<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Arch Linux Configuration Guide.md | yhz</title>
    <link rel="shortcut icon" href="https://githubpages-1253944953.cos.ap-chengdu.myqcloud.com/favicon.ico">
    <link rel="stylesheet" href="/css/style.css">
</head>
    <body>
        <div id="header">
    <span id="home">
        <a href="/">首页</a> 
    </span>
    <span id="about">
        <a href="/about/">关于</a>
    </span>
    <hr>
</div>
        <div class="main">
        
    <h1 id="singletitle">Arch Linux Configuration Guide.md</h1>
    
        <div id="singledate">
            2020/10/25
        </div>
    
    <div id="content">
        <h2 id="硬件">硬件</h2>
<h3 id="触控板优化">触控板优化</h3>
<p><code>sudo vim /usr/share/X11/xorg.conf.d/40-libinput.conf</code></p>
<pre><code>Option &quot;Tapping&quot; &quot;on&quot;
Option &quot;NaturalScrolling&quot; &quot;true&quot;
</code></pre><p><code>reboot</code></p>
<h3 id="电池优化">电池优化</h3>
<p><code>sudo systemctl enable --now tlp.service</code></p>
<h3 id="nvidia显卡">Nvidia显卡</h3>
<p>方案一：</p>
<p>prime方案</p>
<p><code>pacman -S nvidia nvidia-prime</code></p>
<p>方案二：</p>
<p>禁用Nvidia显卡</p>
<p>安装bbswitch：</p>
<p><code>sudo pacman -S bbswitch</code></p>
<p>开机加载bbswitch模块：</p>
<p><code>sudo vim /etc/modules-load.d/bbswitch.conf</code></p>
<p>键入：</p>
<p><code>bbswitch</code></p>
<p>设置bbswitch加载参数，实现开机时关闭独显，关机时开启独显，避免重启进入Windows时找不到独显：</p>
<p><code>sudo vim /etc/modprobe.d/bbswitch.conf</code></p>
<p>键入：</p>
<p><code>options bbswitch load_state=0 unload_state=1</code></p>
<p>屏蔽nouveau驱动:</p>
<p><code>sudo vim /etc/modprobe.d/blacklistnvidia.conf</code></p>
<p>键入：</p>
<p><code>blacklist nouveau</code></p>
<p>重建 initrd：</p>
<p><code>sudo mkinitcpio -p linux</code></p>
<p>重启：</p>
<p><code>reboot</code></p>
<p>执行：</p>
<p><code>lspci | grep NVIDIA</code></p>
<p>如有 (rev ff)字样 ，则表示独显已成功禁用。</p>
<h2 id="软件">软件</h2>
<h3 id="软件仓库">软件仓库</h3>
<p>修改镜像列表：</p>
<p><code>sudo vim /etc/pacman.d/mirrorlist</code></p>
<pre><code>Server = https://mirrors.xjtu.edu.cn/archlinux/$repo/os/$arch
Server = https://mirrors.bfsu.edu.cn/archlinux/$repo/os/$arch
Server = https://mirrors.sjtug.sjtu.edu.cn/archlinux/$repo/os/$arch
Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
</code></pre><p>Archlinuxcn源：</p>
<p><code>sudo vim /etc/pacman.conf</code></p>
<pre><code>[archlinuxcn]
Server = https://mirrors.xjtu.edu.cn/archlinuxcn/$arch
</code></pre><p><code>sudo pacman -Syy &amp;&amp; sudo pacman -S archlinuxcn-keyring</code></p>
<p>AUR：</p>
<p><code>sudo pacman -S yay</code></p>
<h3 id="fish">fish</h3>
<p>取消欢迎语：</p>
<p><code>fish</code></p>
<p><code>set -U fish_greeting</code></p>
<h3 id="polybar">polybar</h3>
<p>天气</p>
<p><code>yay -S jq</code></p>
<p><code>yay -S ttf-weather-icons</code>（代理）</p>
<h3 id="ibus">ibus</h3>
<p><code>ibus-setup</code></p>
<h3 id="firefox">firefox</h3>
<p><code>about:config</code></p>
<pre><code>退格键返回：（将值由2改成0）
browser.backspace_action

双击关闭标签页：
browser.tabs.closeTabByDblclick

Enable OpenGL compositor:
layers.acceleration.force-enabled

Enable WebRender compositor:
gfx.webrender.all

true:
media.ffmpeg.vaapi.enabled

false:
media.ffvpx.enabled
</code></pre><h3 id="vsftpd">vsftpd</h3>
<p><code>sudo nvim /etc/vsftpd.conf</code></p>
<pre><code>local_enable=YES
write_enable=YES
</code></pre><p><code>sudo systemctl enable --now vsftpd.service</code></p>
<h3 id="nginx">nginx</h3>
<p><code>sudo nvim /etc/nginx/nginx.conf</code></p>
<pre><code>http {
	server
		listen	8765;
		
		charset utf-8;
		
	    location / {
        root   /media/Data/Videos;
        index  index.html index.htm;
        autoindex on;
        autoindex_exact_size off;
        autoindex_localtime on;
        }
}
</code></pre><p><code>sudo systemctl enable --now nginx.service</code></p>
<h3 id="git">git</h3>
<p><code>git config --global user.name &quot;qvshuo&quot;</code></p>
<p><code>git config --global user.email qvshuo@foxmail.com</code></p>
<h3 id="scrcpy">scrcpy</h3>
<p><code>sudo adb devices</code></p>
<p><code>sudo adb tcpip 5556</code></p>
<p><code>sudo adb connect 192.168.3.120:5556</code></p>
<p><code>scrcpy -b 6M --window-title 'MEIZU 16s' --stay-awake</code></p>
<h3 id="cron">cron</h3>
<p><code>sudo systemctl enable --now cronie.service</code></p>
<p><code>crontab -e</code></p>
<pre><code>0 * * * * /home/huizhi/Desktop/scripts/autonitrogen.sh
45 6 * * * /home/huizhi/Desktop/scripts/alarm.sh
</code></pre>
    </div>

        </div>
        <div id="footer">
    <hr>
    <div><span style="color: #555;">&copy 2016-2020 </span><a href="https://qvshuo.faith/">yhz</a></div>
    <div><span style="color: #555;">Powered by </span><a href="https://gohugo.io/">Hugo</a> <span style="color: #f6f6f6;">| </span><span style="color: #555;">Theme by </span><a href="https://github.com/qvshuo/hugo-theme-flower">qvshuo</a></div>
</div>

    </body>
</html>
